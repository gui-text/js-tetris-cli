{"version":3,"sources":["../src/index.js"],"names":["module","exports","renderer","ansiRenderer","clearScreen","cursorPosition","out","config","Config","matrix","Matrix","game","Game","controller","Controller","readline","emitKeypressEvents","process","stdin","setRawMode","on","str","key","ctrl","name","exit","handleKeyboard"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA;;;;;AAKAA,OAAOC,OAAP,GAAiB,YAAY;;AAEzB,UAAMC,WAAW,IAAIC,sBAAJ,EAAjB;AACAD,aAASE,WAAT;;AAEAF,aAASG,cAAT,CAAwB,CAAxB,EAA2B,CAA3B;AACAH,aAASI,GAAT,CAAa,oFAAb,EAAmG,QAAnG,EAA6G,SAA7G,EAAwH,MAAxH;;AAEA,UAAMC,SAAS,IAAIC,gBAAJ,EAAf;AACA,UAAMC,SAAS,IAAIC,gBAAJ,CAAWH,OAAOE,MAAlB,CAAf;AACA,UAAME,OAAO,IAAIC,cAAJ,CAASL,MAAT,EAAiBE,MAAjB,CAAb;AACA,UAAMI,aAAa,IAAIC,oBAAJ,CAAeH,IAAf,EAAqBT,QAArB,EAA+BK,MAA/B,CAAnB;;AAEAQ,uBAASC,kBAAT,CAA4BC,QAAQC,KAApC;AACAD,YAAQC,KAAR,CAAcC,UAAd,CAAyB,IAAzB;;AAEAF,YAAQC,KAAR,CAAcE,EAAd,CAAiB,UAAjB,EAA6B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvC,YAAIA,IAAIC,IAAJ,IAAYD,IAAIE,IAAJ,KAAa,GAA7B,EAAkC;AAC9BP,oBAAQQ,IAAR;AACH;;AAEDZ,mBAAWa,cAAX,CAA0BJ,GAA1B;AACH,KAND;;AAQA,WAAO,IAAP;AACH,CAzBD","file":"index.js","sourcesContent":["import Config from './src/config';\nimport Game from './src/game';\nimport Matrix from './src/matrix';\nimport Controller from './src/controller';\nimport readline from 'readline';\n\nimport ansiRenderer from './renderer/ansi/ansi-terminal'\n\n/**\n * Entry point\n *\n * @returns {Promise<boolean>}\n */\nmodule.exports = async () => {\n\n    const renderer = new ansiRenderer();\n    renderer.clearScreen();\n\n    renderer.cursorPosition(1, 1);\n    renderer.out('Pure JS (ES6+) Tetris (ascii/ansi cli version) by Ivan \"VDM\" Kalininskiy, (c) 2019', 'yellow', 'bgBlack', 'bold');\n\n    const config = new Config();\n    const matrix = new Matrix(config.matrix);\n    const game = new Game(config, matrix);\n    const controller = new Controller(game, renderer, config);\n\n    readline.emitKeypressEvents(process.stdin);\n    process.stdin.setRawMode(true);\n\n    process.stdin.on('keypress', (str, key) => {\n        if (key.ctrl && key.name === 'c') {\n            process.exit();\n        }\n\n        controller.handleKeyboard(key);\n    });\n\n    return true;\n};\n"]}