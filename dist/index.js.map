{"version":3,"sources":["../src/index.js"],"names":["module","exports","config","Config","matrix","Matrix","game","Game","controller","Controller","undefined","readline","emitKeypressEvents","process","stdin","setRawMode","on","str","key","ctrl","name","exit","handleKeyboard"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;AAKAA,OAAOC,OAAP,GAAiB,YAAY;;AAEzB,UAAMC,SAAS,IAAIC,gBAAJ,EAAf;AACA,UAAMC,SAAS,IAAIC,gBAAJ,CAAWH,OAAOE,MAAlB,CAAf;AACA,UAAME,OAAO,IAAIC,cAAJ,CAASL,MAAT,EAAiBE,MAAjB,CAAb;AACA,UAAMI,aAAa,IAAIC,oBAAJ,CAAeH,IAAf,EAAqBI,SAArB,CAAnB;;AAEAC,uBAASC,kBAAT,CAA4BC,QAAQC,KAApC;AACAD,YAAQC,KAAR,CAAcC,UAAd,CAAyB,IAAzB;;AAEAF,YAAQC,KAAR,CAAcE,EAAd,CAAiB,UAAjB,EAA6B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvC,YAAIA,IAAIC,IAAJ,IAAYD,IAAIE,IAAJ,KAAa,GAA7B,EAAkC;AAC9BP,oBAAQQ,IAAR;AACH;;AAEDb,mBAAWc,cAAX,CAA0BJ,GAA1B;AACH,KAND;;AAQA,WAAO,IAAP;AACH,CAnBD","file":"index.js","sourcesContent":["import Config from './src/config';\nimport Blocks from './src/blocks';\nimport Game from './src/game';\nimport Matrix from './src/matrix';\nimport Controller from './src/controller';\nimport readline from 'readline';\n\n/**\n * Точка входа\n *\n * @returns {Promise<boolean>}\n */\nmodule.exports = async () => {\n\n    const config = new Config();\n    const matrix = new Matrix(config.matrix);\n    const game = new Game(config, matrix);\n    const controller = new Controller(game, undefined);\n\n    readline.emitKeypressEvents(process.stdin);\n    process.stdin.setRawMode(true);\n\n    process.stdin.on('keypress', (str, key) => {\n        if (key.ctrl && key.name === 'c') {\n            process.exit();\n        }\n\n        controller.handleKeyboard(key);\n    });\n\n    return true;\n};"]}